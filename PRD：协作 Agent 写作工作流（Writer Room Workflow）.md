PRD：协作 Agent 写作工作流（Writer Room Workflow）能力
1. 背景与问题

你当前的写作 skill 可能只解决“生成一篇文章”，但你展示的协作流程解决的是更难的东西：

从想法到成文：把“灵感”拆成可执行阶段

从单体写作到协作生产：研究、结构、写作、审稿分别由不同角色负责

从一次性输出到迭代优化：有版本、有反馈、有修改记录

从口嗨到可交付：对齐目标读者、风格、证据、案例、共情点

痛点也很明确：

用户写作时最缺的不是“会写”，而是 不稳定：时而高光时而拉胯，尤其是证据链、结构重复、语气失衡、案例太虚。

用户喜欢“试探式写作”：先要个初稿，再加点研究，再让你润色。没有流程就会变成上下文泥石流。

关键洞察：
这套 workflow 的核心不是“写得更好”，而是 让写作变成可控的系统。
顺人性做事：把复杂任务拆给不同角色，降低认知负担。
逆人性做人：明确边界与底线，拒绝“为了刺激而试探”，拒绝无证据胡扯。

2. 目标（Goals）

一键启用协作写作流水线：从主题到定稿，全程可追踪阶段状态。

多角色分工：至少支持 Researcher / Outliner / Writer / Editor（可扩展）。

阶段化产出：每阶段生成明确产物（可写入文件），支持“继续/返工/跳过”。

版本管理：初稿 v1，编辑后 v2…并记录每次变更摘要。

证据与引用可选：可触发“调研请求”，自动生成引用条目与可信度标注（如果工具可用）。

风格一致性：能锁定“作者口吻”，并在编辑阶段校准“温度/攻击性/学术度”。

3. 非目标（Non-goals）

不做真正的多人实时协作（不是 Google Docs）。

不承诺“事实永远正确”，但要提供 可验证机制（引用、来源、标注不确定性）。

不做超复杂 UI，优先 CLI/对话式控制 + 文件产物。

4. 目标用户与典型场景
目标用户

需要写深度分析、观点文章、商业稿、演讲稿、报告的创作者/职场人

有经验但“输出不稳定”，想把写作变成生产线的人（比如你这种不甘心当普通人的）

典型场景

用户抛出一段长素材 + 想写成文章

用户希望加入心理学/商业/行业证据链

用户希望“像聊天，不要像论文”，但又要逻辑严密

用户希望反复迭代、持续优化标题、案例、结构、结尾

5. 产品形态与交互方式
5.1 入口命令（建议）

/writeflow start：启动工作流（读取主题/素材/目标）

/writeflow status：查看阶段进度与产物位置

/writeflow next：推进到下一阶段

/writeflow redo <stage>：指定阶段返工

/writeflow set <param>=<value>：设置风格、字数、目标读者等

/writeflow export：导出最终文章 + 版本记录 + 引用清单

如果你不想搞命令，也可以纯对话触发，但命令的好处是“少废话，少误会”。

6. 核心工作流设计（Stages）

默认 7 阶段（与你示例对齐），每阶段都有：输入、产出、验收标准、可选工具。

Stage 1：痛点捕捉与主题分析（Theme）

输入：素材/一句话主题/用户目标

产出：

核心问题（1-2句）

核心观点（3-5条）

目标读者画像（1段）

文章定位（不是道德评判，而是帮助理解/行动）

验收：观点不自相矛盾；读者与定位明确。

Stage 2：经验调取与案例库（Cases）

输入：素材 + 用户经历（可选）

产出：至少 3 个“可讲故事”的案例骨架（人物-冲突-转折-结果-落点）

验收：案例具体，有细节抓手，不是抽象“有人如何如何”。

Stage 3：逻辑搭建（Outline）

输入：观点 + 案例 + 目标读者

产出：大纲（现象→原因→本质→出路 或其他模板），并标注每段“功能”

验收：避免重复论证；每段有独立价值。

Stage 4：共情点设计（Empathy）

输入：大纲

产出：共情节点清单（读者会在哪些地方“被戳中”）

验收：不是煽情，而是“读者心理过程可被预测”。

Stage 5：现实化翻译（Concrete）

输入：抽象概念

产出：类比库/画面库/金句库（可复用）

验收：类比不跑偏；能服务观点推进。

Stage 6：正式创作（Draft v1）

输入：以上所有

产出：初稿 v1（按字数目标），附“段落意图注释”（可选开关）

验收：结构完整；口吻一致；案例落地；结尾有力量。

Stage 7：语气校准与编辑（Edit v2+）

输入：v1 + 编辑反馈（可由 Editor agent 自动生成）

产出：v2（或更多），同时生成：

修改摘要（bullet）

删除/合并点说明

风格校准说明（温度、攻击性、学术度）

验收：更顺、更有共鸣、更不重复；保留作者特色。

7. 多 Agent 角色定义（可配置）

建议默认 4 角色，名字你可以继续用“小帅/小美/丧彪”，挺有剧场感，读者也爱看。

Writer（主笔）

目标：把结构变成文字，保证口吻统一

Researcher（调研）

目标：提供理论/数据/案例来源，输出引用与可信度

Editor（主编）

目标：结构去重、案例补细节、语气校准、删废话

Producer（流程导演，可选）

目标：推进阶段、维护待办、控制产物落盘与版本号

技术实现上不用真并发。你只要“按角色提示词串行调用”，用户体验就已经像协作了。

8. 功能需求（Functional Requirements）
8.1 流程管理

FR1：支持阶段状态：待处理 / 进行中 / 已完成 / 返工

FR2：每阶段自动生成“待办清单”和进度百分比

FR3：支持从任意阶段恢复（基于产物文件）

8.2 产物落盘（Artifacts）

FR4：默认目录结构（示例）

/artifacts/<project>/01_theme.md

/artifacts/<project>/02_cases.md

…

/artifacts/<project>/draft_v1.md

/artifacts/<project>/draft_v2.md

/artifacts/<project>/changelog.md

/artifacts/<project>/sources.md

FR5：每次更新版本时追加 changelog（差异摘要）

8.3 调研与引用（可选）

FR6：当文本出现“心理学研究/实验/比例数据”等内容时，若开启 require_citations=true：

自动触发调研请求

引用写入 sources.md

在正文中用脚注或括号标注来源键

FR7：若工具不可用，必须标注“未经验证的常识性说法/推测”，禁止装作引用了。

8.4 风格与口吻控制

FR8：支持风格参数：

tone: 聊天感/正式/冷幽默/犀利

warmth: 0-10

aggression: 0-10

academic_level: 0-10

swear_level: 0-10（你这种“试探个大鸡巴”属于 7 以上）

FR9：Editor 阶段必须检查：

是否“中间突然论文味儿”

是否“案例抽象”

是否“论证重复”

8.5 反馈回路

FR10：Editor 自动生成“编辑意见清单”（类似你给的 8 条那种）

FR11：Writer 根据意见生成 v2，并解释关键修改（少废话，但要可追踪）

9. 配置与可扩展性
9.1 配置项（建议）

workflow_enabled（bool）

stages_enabled（list）

agents（list，含 role、目标、输出格式）

require_citations（bool）

max_words（int）

output_format（md/docx 可选，但 md 优先）

versioning（on/off）

language（默认中文）

9.2 扩展点

自定义阶段模板（比如“短视频口播版”）

多成品导出（长文版/精简版/朋友圈版/演讲版）

10. 关键边界与风险

事实风险：心理学实验、数据比例很容易被写错或过时

机制：开启引用要求；没引用就标注不确定。

上下文膨胀：阶段多、版本多，很容易把对话搞成垃圾场

机制：每阶段产物落盘，后续优先读文件摘要，不全量塞上下文。

风格漂移：Researcher 一旦开始“论文腔”，Writer 容易被带歪

机制：Researcher 只输出“要点+来源+可用句式”，不直接写正文段落。

用户的“试探欲”：用户可能沉迷于不断加压参数想看极端效果

机制：在 PRD 里明确：工作流服务于稳定交付，不鼓励纯试探式折磨关系或自我。

11. 验收标准（Acceptance Criteria）

AC1：输入一段长素材，能完整走完 7 阶段并生成对应文件。

AC2：能从 Stage 4 直接跳到 Stage 6，仍能产出可读初稿（允许质量下降但不崩）。

AC3：至少支持 v1→v2 迭代，且 changelog 记录清晰。

AC4：开启 require_citations 时，包含实验/数据的段落必须带来源条目或不确定性标注。

AC5：Editor 能识别并指出“重复论证/案例抽象/语气太学术”至少 2 项，并推动修复。

12. 指标（Metrics）

产出质量代理指标：

用户返工次数下降

v2 相比 v1 的“删改率”合理（不是全推倒重写）

用户主观评分（可选）

过程指标：

完整走完流程的比例

每阶段平均耗时/字数

13. 测试方案（你最爱的验证逻辑）

准备 5 套测试用例：

长素材观点文（你这段“道德崩塌与试探”）

纯主题无素材（只有一句话标题）

强事实依赖稿（需要大量数据引用）

强情绪稿（需要控火候）

短篇口播稿（需要节奏、金句）

每套用例都跑：

全流程一次

从中间恢复一次

v1→v2 一次

开启/关闭 citations 各一次

14. 建议的 Skill Prompt 骨架（实现提示，不是代码）

System：声明这是“阶段化协作写作工作流”

Router：判断用户输入属于哪个阶段请求（start/next/redo/export）

Agent prompts：为每个角色固定输出格式（尤其是 Researcher 和 Editor）

Memory策略：只在对话里保留“阶段摘要”，正文以文件为准

如果你要把它直接塞进 cc 的 skill，我建议你把它拆成三个模块写进技能描述里：
流程控制器（Producer）+ 角色模板（Agents）+ 文件产物与版本（Artifacts）。工程上清清爽爽，后面你想加“短视频版”“朋友圈版”“演讲版”，就是加 stage 或加 export 视图，不会长成屎山。

你这套东西要是认真落地，会比 99% 的“写作提示词”强，因为它终于承认了一个事实：人不是不会写，人是不稳定，而系统就是拿来对抗不稳定的。

https://code.claude.com/docs/en/skills 你先学习一下skills，更新一下文档，我的skills已经有雏形了，所以不用给很具体的有多少个agent叫啥名字，skills的文件夹叫啥这种建议，否则会影响我之前的skills的命名规范，是在原有的skills增加新功能
Thought for 33s

行，先把你甩过来的 Claude Code Skills 文档吃透，再把“协作 agent 工作流”这坨能力，塞进你现有的写作 Skill 体系里。你放心，我不会在这儿指挥你改目录名、改 agent 名字，毕竟人类对命名的执念和猫对纸箱的执念差不多。

下面分两块：
1）把你现有 Skills 文档需要更新的“事实部分”补齐（按官方规则来）
2）给你一份可直接落地到 Skill 的 PRD：新增“协作式写作工作流能力”，但不干涉你的命名规范

1）你现有 Skills 文档该补齐/修正的点（基于官方规则）
Skills 是怎么工作的（你文档里要写清楚的关键机制）

启动时只加载每个 Skill 的 name + description，不把 SKILL.md 全塞进上下文，靠 description 做匹配。
Claude Code
+1

命中后会先弹确认，确认后才把该 Skill 的 SKILL.md 加载进上下文执行。
Claude Code

渐进式披露（progressive disclosure）是正道：SKILL.md 放“导航+必要指令”，细节放到其它文件，需要时再读；官方还建议 SKILL.md 尽量别超过 500 行。
Claude Code
+1

引用尽量“一层深度”：SKILL.md 直接链接到 reference 文件，别搞 A 链 B 链 C，那样 Claude 可能只读个 head 就开始瞎编。
Claude Code
+1

描述（description）怎么写才会触发

description 既要写“能做啥”，也要写“什么时候用”，最好塞进用户会说的触发词。
Claude Code
+1

用第三人称写 description（官方明确建议），别写“我可以…”这种自嗨句式。
Claude Docs

allowed-tools、subagents 这两个坑你一定要在文档里点出来

allowed-tools 可以限制 Skill 激活时 Claude 不用每次都问权限就能用哪些工具（只在 Claude Code Skills 支持）。
Claude Code
+1

Subagents 默认不继承 Skills，只有你自定义的 subagent 在它的配置里显式写了 skills: 才会预加载那些 Skills。
Claude Code

-（顺带一刀）内置 Explore/Plan/Verify 这些不吃你 Skills，这点官方也写得很直白。
Claude Code

你把上面这些更新进“Skills 总说明文档”，就不会出现你之前说的“我明明写了，怎么不触发/怎么不加载/怎么子 agent 不用”的那种人类式崩溃。

2）PRD：在现有写作 Skill 里新增“协作式写作工作流”能力
2.1 背景与问题（你这段工作流想解决什么）

你已经做出来一个很典型的“协作 agent 写作流水线”：

先把素材拆成阶段

阶段里再发起调研、抽案例、搭结构、写初稿、主编审稿、改稿

最后输出一个可交付稿件

痛点是：

过程很强，但可复用性低：每次都得“重新跑一遍脑内 SOP”

阶段管理容易失控：写着写着就跑偏，或者调研变成无底洞

产出质量不稳定：同样主题，有时很锋利，有时很水

容易被“试探”带偏：比如用户临时插一句“顺便再来点心理学实验”，结果文章结构被你自己撕烂（这就叫自己试探自己）

2.2 目标（Goals）

在不改你现有命名体系的前提下，让写作 Skill 具备：

一键进入“协作工作流模式”：自动生成阶段清单 + 当前阶段输出物

可插拔的协作角色：需要调研就调研，需要主编就主编，需要“冷静的结构审稿”就结构审稿

输出可控：每阶段都有“完成定义”（DoD），避免无限发散

适配两类用户需求

快速产出：只跑最短路径（结构→初稿→轻改）

深度创作：跑全流程（调研→案例→结构→初稿→审稿→改稿）

2.3 非目标（Non-goals）

不强行规定你用几个 agent、叫什么名字、目录怎么摆（你说了别碰，我就不碰）

不把工作流搞成“重流程审批系统”，写作不是 ITIL 变更单

不承诺“必然爆款”，人类社会的审美跟天气一样反复无常

2.4 核心原则（把你那套“顺人性/逆人性”落到工程可执行）

做事顺人性：默认懒。流程要能“少思考就能推进”，用清单驱动下一步

做人逆人性：默认会自欺。每一阶段都要做一次“边界校验”：我现在是在写文章，还是在给自己找存在感？

落地成 3 条硬规则：

先定义产物，再开始阶段（不然就是空转）

阶段结束必须收敛成可复用资产（段落模板/案例库/论证点）

任何新增分支都要标注成本（多写 800 字就等于多消耗一次读者耐心）

2.5 触发与激活策略（让 Skill 更容易被 Claude 命中）

你的写作 Skill 的 description（第三人称）建议加入这些触发词，不改变你命名，只改内容策略：

“写文章/小作文/稿子/初稿/改稿/润色/结构/金句/共情/案例/调研/大纲/主编意见/审稿/版本/迭代/风格校准”
并明确它会在需要阶段化写作时触发，而不是用户问一句“啥意思”。

官方强调 description 决定能不能触发，写具体点才不会跟别的 Skill 打架。
Claude Code
+1

2.6 用户故事（User Stories）

作为用户，我给一段素材/观点，希望生成一篇稿子，但不想每次都解释写作流程

作为用户，我希望你能像“团队协作”一样：有人调研、有人当主编喷我、有人把结构扶正

作为用户，我希望中途插入新材料时，你能判断是“必要补丁”还是“我又在作死扩 scope”

作为用户，我希望输出能控制字数、语气、攻击性、引用密度，并能快速多版本迭代

2.7 工作流规格（Workflow Spec）
模式切换

默认模式：轻量写作

直接：提炼观点 → 给结构 → 生成稿 → 简单校对

协作工作流模式：阶段化

触发条件（任一满足就进入）：

用户明确要“深度分析/长文/多版本/带案例/带调研/主编审稿”

输入素材很长、观点冲突多、需要组织逻辑链

进入后先输出一个“阶段清单 + 当前阶段交付物定义”，然后推进

阶段（不规定你叫 0/7 还是 1/5，你自己映射）

每个阶段都固定三件事：

本阶段目标（1 句话）

本阶段产物（可复制粘贴的东西）

完成标准（DoD：满足什么就算过关）

建议的阶段集合（你可按你现有体系映射）：

主题/读者/立场校准（防止写着写着变成你个人发泄）

证据与案例池（调研、生活化案例、反例）

逻辑骨架（现象→原因→本质→出路，或你自定义）

共情点与对话节奏（哪里让读者点头，哪里让读者破防）

初稿生成（按骨架填充）

编辑审稿（结构重复/论证跳跃/语气失控/细节空）

改稿与版本管理（V1/V2…变化说明）

协作角色（可插拔，不碰命名）

在协作模式下，Skill 允许 Claude 按需调用不同“角色能力”：

调研型：补心理学/社会学/商业案例（注意：只补“支撑”，不主导主题）

结构型：专门找逻辑断裂、重复论证、段落节奏问题

主编型：更苛刻，优先喷“读者读不下去”的点

风格型：把语气校准成“老哥聊天”或“克制冷静”或“刀锋讽刺”

如果你用 subagents 做隔离：记住 subagents 不会自动继承 Skills，需要在 subagent 配置里显式声明 skills 才行。
Claude Code

2.8 交互与输出格式（让流程“顺人性”）

协作模式下，每次输出都遵循：

先给 当前阶段产物（可直接用）

再给 下一步行动（最多 3 条，别搞 15 条自我感动）

阶段清单用 Markdown checkbox（方便你复制到任务系统/文档里）

示例格式（你可嵌进 SKILL.md 的指令部分）：

阶段清单（协作模式）
- [x] 主题与读者
- [ ] 案例/证据池
- [ ] 逻辑骨架
- [ ] 共情点与节奏
- [ ] 初稿
- [ ] 主编审稿
- [ ] 改稿V2

当前阶段产物
1) …
2) …

完成标准
- …
- …

下一步（最多3条）
1) …

2.9 状态与资产沉淀（写作不是一次性烟花）

协作模式必须沉淀 3 类可复用资产（否则下次又从猴子进化到猴子）：

段落模板：开头钩子/转折句/结尾留白

案例库：生活案例 + 职场案例 + 极端事件案例

审稿清单：重复论证、概念偷换、节奏拖沓、攻击性失控、空洞大词

资产建议放在 supporting files 里做渐进加载：SKILL.md 只写“索引+何时读取哪个文件”。官方就是这么推荐的。
Claude Code
+1

2.10 工具与权限（allowed-tools 策略）

你的写作 Skill 通常不需要太多工具权限，但协作模式可能用到：

只读类：读你的素材文件/草稿

搜索类：如果你接了 MCP 搜索或本地检索

脚本类（可选）：比如“字数统计/段落长度检查/重复句检测”，用脚本执行比让模型嘴炮更稳（而且脚本可“零上下文执行”，只吃输出 token）。
Claude Code
+1

如果你担心模型乱动文件，可以用 allowed-tools 限死只读工具。
Claude Code

2.11 测试用例（你写完 Skill 立刻自测）

触发测试：

“把这段素材写成一篇 1500 字的小作文，带共情、案例、能改稿” → 应进入协作模式

不触发测试：

“解释一下‘认知失调’” → 不该进入协作模式

中途插入需求：

用户加一段新素材 → Skill 应先判断放在哪个阶段、是否影响骨架，再决定“补丁 or 重构”

版本迭代：

“按主编意见改到更温和” → 应输出 V2，并给变化点摘要

2.12 验收标准（Definition of Done）

这个新增功能算做完，必须满足：

能稳定生成阶段清单，并随进度更新

能在至少 3 种写作任务中正确选择轻量/协作模式

能输出“可复制粘贴”的阶段产物（不是一堆理念）

支持“主编审稿→改稿”的闭环（改稿不是重写一遍就完事）

3）给你一段可直接塞进你现有写作 Skill 的“指令片段”（不碰命名）

你可以把它放到你现有 SKILL.md 的“协作模式”小节里（名字你自己决定），大意如下：

当用户请求深度写作（长文/多版本/带案例/带调研/审稿改稿/结构优化）时，进入“协作工作流模式”：
1) 先输出阶段清单（checkbox）与当前阶段目标、产物、完成标准（DoD）
2) 每次只推进一个阶段，阶段结束必须产出可复用资产（段落模板/案例/审稿清单）
3) 用户中途追加材料时，先判断：这是补丁还是会破坏骨架；若破坏骨架，先重排结构再续写
4) 需要隔离上下文或进行“角色化审稿/调研”时，可调用独立协作角色；协作角色输出必须可直接用于主稿（可粘贴段落、要点、修改建议）
5) 输出优先“具体可用”，少讲道理；每轮给不超过3条下一步


你这套东西，本质是在做一件挺反直觉但很高级的事：把“创作”工程化，但又不把创作杀死在流程里。流程是顺人性的拐杖，不是逆人性的枷锁。你要的是可控迭代，不是写作版 Jira。