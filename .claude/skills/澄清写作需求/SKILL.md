---
name: writing-clarifier
description: 当用户提出写作请求但意图不够明确时调用。通过结构化追问，澄清切入角度、受众背景、风格基调、篇幅长度及核心目的，确保创作方案精准对齐用户预期。
---

# 写作需求澄清 (Writing Clarifier)

## 指令 (Instructions)

当接收到模糊的写作请求（如"帮我写一篇关于AI的文章"）时，请按以下步骤操作：

### 1. 提供素材驱动的切入方向
基于初步信息，优先调用 `research-expert` 进行快速背景检索，然后推测 2-3 个基于真实素材或趋势的写作方向供用户选择。
- **目标：** 避免空泛，用"数据"或"热门案例"吸引用户。
- **话术模版：** "基于对[主题]的初步搜集，我发现[热点/趋势/数据]，据此我有几个可能的切入角度：A. [具体方向1]；B. [具体方向2]；C. [具体方向3]。"

### 2. 确认核心五要素 (5 Essential Elements)
只在未明确时有针对性地追问：
- **目的 (Objective)：** 读者看完后应该做什么或感受到什么？
- **受众 (Audience)：** 目标读者是谁？他们的基础认知如何？
- **风格与语调 (Tone & Style)：** 
    1.  **检查库：** 使用 `list_dir` 工具检查项目根目录下的 `.claude/styles/` 目录，列出所有 `.md` 文件名（去掉扩展名）作为可选风格。
    2.  **引导选择：** 
        - 若目录不存在或为空：询问用户"目前风格库为空，您是想先调用 `style-modeler` 生成一个风格模型，还是直接描述风格，或者不设定特定风格？"
        - 若目录中有风格文件：列出所有可用风格名称（如：墨水怪风），并询问"您想沿用库中的某种风格，还是自定义？"
    3.  **确定：** 确认是专业严谨、轻松幽默还是某一特定建模后的风格。
- **长度 (Length)：** 期望的字数范围或阅读时长？
- **重点 (Key Points)：** 有没有必须包含的关键信息或论点？

### 3. 反AI格式（默认启用，无需确认）
以下规则**默认执行**，不需要每次询问用户：
- **小标题：** 默认不使用，全文段落流
- **段落结构：** 默认避免整齐划一的段落长度
- **过渡词：** 默认禁用"首先/其次/最后/总而言之"等AI常用词
- **加粗/列表：** 默认不使用加粗和项目符号列表

**仅在用户主动要求时才例外：** 如用户说"这篇需要用小标题"则启用小标题。

### 4. 特殊情况处理
- **用户自相矛盾：** 帮助其建立优先级（例如：在"专业"与"有趣"之间寻找平点，建议"框架专业，局部生动"）。
- **用户不耐烦：** 基于现有信息给出"默认方案"或"最小版本大纲"，在草稿中标注不确定的部分。

### 5. 复述确认
在开始创作前，用一句话复述最终达成的共识。
- **格式：** "确认一下：我们将写一篇[长度]的[类型]，面向[受众]，以[风格]探讨[核心角度]，达到[目的]。这样理解对吗？"

### 6. 下一步引导（必须明确询问！）

**在用户确认需求后，必须明确询问是否需要调研，不能默认跳过：**

```
══════════════════════════════════════════════════
✅ 写作需求已确认！下一步您想：

A. 【调研素材】让我先搜集相关数据、案例和观点，再开始写作
   → 推荐：需要真实数据支撑、希望文章更有说服力

B. 【直接写作】跳过调研，基于现有信息直接开始写作
   → 推荐：个人观点文、随笔、已有足够素材

请选择 A 或 B：
══════════════════════════════════════════════════
```

**根据用户选择执行：**
- 选择 A → 调用 `research-expert` 进行素材搜集
- 选择 B → 调用 `writing-executor` 开始写作

**禁止：** 未经明确询问就默认跳过调研步骤

## 示例 (Examples)

**用户：** 帮我写一篇关于程序员职业发展的文章。

**AI：** 
基于对当前程序员职场趋势的初步调研（参考了 LinkedIn 2024 人才趋势报告及主流技术社区讨论），我建议从以下三个方向切入：

A. **"架构师"后的第二曲线：** 调研显示 35 岁以上开发者更倾向于向"技术咨询"或"行业专家"转型。本文可深度探讨如何构建这种复合竞争力。
B. **出海与远程化：** 结合近期"数字游民"签证的热潮，分析中国程序员如何通过远程办公对接全球市场，探讨英语能力以外的硬通货。
C. **AI 时代的个体户：** 调研发现大量独立开发者利用 AI 工具实现了单兵作战。文章可探讨如何利用 AI 杠杆，从"打工人"转变为"一人公司"。

另外，我检查了您的风格库，发现已有：`[墨水怪风]`。
您是想沿用这个风格，还是先提供参考素材让我为您生成一个全新的风格模型（调用 `style-modeler`）？或者直接告诉我您想要的语调（如：幽默讽刺）？

最后，请问文章的大致篇幅是（如：1,000 字干货流，或 3,000 字深度解析）？

---

**（用户确认后）**

**AI：**
```
══════════════════════════════════════════════════
✅ 写作需求已确认！下一步您想：

A. 【调研素材】让我先搜集相关数据、案例和观点，再开始写作
B. 【直接写作】跳过调研，基于现有信息直接开始写作

请选择 A 或 B：
══════════════════════════════════════════════════
```

## 最佳实践 (Best Practices)
- **必须询问调研需求：** 需求确认后，必须明确询问用户是否需要调研，不能默认跳过。
- **反AI格式默认启用：** 不使用小标题、不使用加粗列表、禁用AI过渡词——这些是默认规则，无需每次确认。
- 每次提问不超过 3 个核心问题，避免让用户压力过大。
- 使用具体的选项（A/B/C）而不是开放式提问，降低用户的思考成本。
- 澄清成本虽然存在，但远低于推倒重来的返工成本。

## 版本记录 (Version History)
- v1.3.0 (2025-12-21): 反AI格式改为默认启用，无需每次确认；仅在用户主动要求时例外。
- v1.2.0 (2025-12-21): 新增"下一步引导"，强制询问是否需要调研，防止跳过调研步骤。
- v1.1.0 (2025-12-20): 新增"反AI格式要求"作为核心确认要素。
- v1.0.0 (2025-12-20): 初始版本，基于官方 Skill 规范优化。
